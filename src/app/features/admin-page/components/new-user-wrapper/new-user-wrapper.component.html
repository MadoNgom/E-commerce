<div class="p-6">
    <h5 class="text-xl mb-3 text-center">Ajouter un nouveau utilisateur</h5>
    <form class="example-form" [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field class="w-full">
            <mat-label>Prénom</mat-label>
            <input matInput type="text" id="firstname" formControlName="firstname">
            <mat-error *ngIf="firstname.invalid && firstname.touched">
                Le prénom est obligatoire.
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="w-full">
            <mat-label>Nom</mat-label>
            <input matInput type="text" id="lastname" formControlName="lastname">
            <mat-error *ngIf="lastname.invalid && lastname.touched">
                Le nom est obligatoire.
            </mat-error>
        </mat-form-field>
        <mat-form-field class="w-full">
            <mat-label>E-mail</mat-label>
            <input matInput type="email" formControlName="email" id="email">
            <mat-error *ngIf="email.invalid && email.touched">
                <span *ngIf="phone.errors?.['required']">Adresse email est obligatoire.</span>
                <span *ngIf="phone.errors?.['email']">Adresse email invalide.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field class="w-full">
            <mat-label>Téléphone</mat-label>
            <input matInput type="number" id="phone" formControlName="phone">
            <mat-error *ngIf="phone.invalid && phone.touched">
                <span *ngIf="phone.errors?.['required']">Le téléphone est obligatoire.</span>
                <span *ngIf="phone.errors?.['pattern']">Le téléphone doit commencer par 77, 78, 70, 75 ou 76 et être
                    suivi de 7 chiffres.</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill" class="w-full">
            <mat-label>Adresse</mat-label>
            <input matInput type="text" id="adress" formControlName="adress">
            <mat-error *ngIf="adress.invalid && adress.touched">
                L'adresse est obligatoire
            </mat-error>
        </mat-form-field>
        <button type="submit" class="w-full bg-yellow-500 text-black p-3 rounded-md flex items-center justify-center">
            <svg *ngIf="isLoading" class="animate-spin h-5 w-5 mr-2 text-center text-gray-600" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
            </svg>
           <span *ngIf="!isLoading">Nouveau</span> 
        </button>
    </form>
</div>